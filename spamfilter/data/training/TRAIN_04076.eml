 Spambayes  test sets     But it also identified as spam everything in my inbox that had any     MIME structure or HTML parts  and several messages in my saved  zope     geeks  list that happened to be using MIME and or HTML       Do you know why   The strangest implied claim there is that it hates MIME   independent of HTML   For example  the spamprob of  content type text plain    in that pickle is under         content type multipart alternative  gets         but that s not a killer clue  and one bit of good content will more   than cancel it out   I reran the experiment  with the new SpamHam  pik  but it doesn t seem to make a difference    Here are the clues for the two spams in my inbox  in hammie py s output format  which sorts the clues by probability  the first two numbers are the message number and overall probability  then line folded                S  facility          speaker          stretch              thursday          young           mistakes          growth               content type text plain          please          capital              series          subject Don          companies               content type text html          fee          money                  am              am           content type image gif               content type multipart alternative          attend              companies           content type type multipart alternative              content type multipart related          economy              economy          This has   content types as spam clues  only one of which is related to HTML  despite there being an HTML alternative  and    other spam clues  vs  only   ham clues    This was an announcement of a public event by our building owners  with a text part that was the same as the HTML  AFAICT    Its language may be spammish  but the content type clues didn t help    BTW  it makes me wonder about the wisdom of keeping punctuation     economy  and  economy   to me don t seem to deserve two be counted as clues                S   near          alexandria          conn              from adam          from email addr panix          poked              thorugh          though          i m          reflect              i ve          wednesday          content disposition inline              contacting          sold          financially              prices          rates          discount           hotel              hotels          hotels           nights           plaza              rates           rates           rooms          season              stations          subject Hotel         Here is the full message  Received  headers stripped   with apologies to Ziggy and David       Date  Fri     Sep                     From  Adam Turoff   Subject  Hotel information To       Message id    MIME version      Content type  text plain  charset us ascii Content disposition  inline User Agent  Mutt    i  I ve been looking into hotels   I poked around expedia for availability from March    to       nights  wednesday thorugh saturday      I ve also started contacting hotels for group rates  some of the group rates are no better than the regular rates  and they require signing a contract with a minimum number of rooms sold  with someone financially responsible for unbooked rooms    Most hotels are less than responsive      Radission   Barcelo Hotel  DuPont Circle        night      weekend   State Plaza hotel  Foggy Bottom  near GWU        night      weekend   Hilton Silver Spring  Near Metro  in suburban MD       hight      weekend   Windsor Park Hotel  Conn Ave  between DuPont Circle Woodley Park Metro stations      night  needs a car   Econo Lodge Alexandria  Near Metro  in suburban VA       night  This is a hand picked list  I ignored anything over      night  even though there are some really well situated hotels nearby at higher rates  Also  I m not sure how much these prices reflect an expedia only discount   I can t vouch for any of these hotels  either   I also found out that the down season for DC Hotels are mid june through mid september  and mid november through mid january   Z       This one has no MIME structure nor HTML   It even has a Content disposition which is counted as a non spam clue   It got f p ed because of the many hospitality related and money related terms   I m surprised      night and similar aren t clues too    And again  several spam clues are duplicated with different variations   hotel    hotels    hotels     subject Hotel    rates     rates       WRT hating HTML  possibilities include          It really had to do with something other than MIME HTML          These are pure HTML  not multipart alternative with a text plain part        so that the tags aren t getting stripped   The pickled classifier      despises all hints of HTML due to its c l py heritage          These are multipart alternative with a text plain part  but the      latter doesn t contain the same text as the text html part  for      example  as Anthony reported  perhaps the text plain part just      says something like  This is an HMTL message          If it s     it would be easy to add an optional bool argument to tokenize     meaning  even if it is pure HTML  strip the tags anyway    In fact  I d like   to do that and default it to True   The extreme hatred of HTML on tech lists   strikes me as  umm  extreme     I also looked in more detail at some f p s in my geeks traffic   The first one s a doozie  that s the term  right        It has lots of HTML clues that are apparently ignored   It was a multipart mixed with two parts  a brief text plain part containing one or two sentences  a mondo weird URL      and some employer generated spammish boilerplate  the second part was the HTML taken directly from the above URL   Clues               S   main            later           lots            paul                                 adopt          apps          commands              deja com          dejanews           discipline              duct          email addr digicool          email name paul              everitt          exist           forwards              framework          from email addr digicool          from email     name                http                   http               http   an          http   author              http   fmt          http   getdoc          http   pr              http   products          http   query          http   search              http   viewthread          http   xp          http   zope              inventing          jsp          jsp           logic              maps          neo          newsgroup           object              popup          probable          query          query               resizes          servlet          skip               stems              subject JSP          sucks           templating              tempted          url           usenet          usenet               wrote          x mailer mozilla       en   windows nt      u               zope                             cc                    ff                ff                ffffff            copy                gt            nbsp  nbsp            quot no               med           small           pt            px             px                 pt             px             pt             px                pt            px                          pt                                                                                                                                                                           nbsp                                                   a                                                                                     alt             bold           border                border             color           colspan                colspan             colspan            face  arial               font family           font size           font weight               footer          for           fucking               height              height               height                height             height              height                 height             height             height                height             height             height                hspace            http  g          http  web           http                 http  ads          http  d          http  page              http  site          http   article          http   back              http   com          http   d          http   gif              http   go          http   group          http   http              http   post          http   ps          http   site              http   st          http   title          http   yahoo              inc            jobs           normal           nowrap              nowrap           nowrap                type  image           type  text           type hidden              type image          type radio          type submit              type text          valign top          valign top               value              visibility           width               width               width            width                   width                width             width                  width              width              width            width                 width             width            width                  width            width             works          The second f p had the same structure  and sender      the third f p had the same structure and a different sender   Ditto the fifth  sixth    Not posting clues for brevity    The fourth was different  plaintext with one very short sentence and a URL   Clues               S  from email addr digicool          http  news             from email addr com           from tres          http       digi             proto http          subject Geeks          x mailer mozilla          en   x    u  linux           smp i              take             bool noorg          http  com          skip h                http   htm          subject Software          http   business             http   local          subject firm          us          The seventh was similar   I scanned a bunch more until I got bored  and most of them were either of the first form  brief text with URL followed by quoted HTML from website  or the second  brief text with one or more URLs    It s up to you to decide what to call this  but I think these are none of your        or     they re close to     but all are multipart mixed rather than multipart alternative        So I guess I ll have to retrain it  yes  you told me so           That would be a different experiment   I m certainly curious to see whether   Jeremy s much worse than mine error rates are typical or aberrant   It s possible that the corpus you ve trained on is more homogeneous than you thought     Guido van Rossum  home page    