Re  C programming questionOn Thursday    April               Stephen Powell wrote    On Wed     Apr                      EDT   Boyd Stephen Smith Jr  wrote      On Tuesday    April               Stephen Powell wrote       What I need to do is to have two structures overlay each other  so that       they occupy the same storage   To be specific  here is a structure      which describes the volume label for an OS formatted disk            struct   attribute     packed   volume label                char volkey                volume key   D volume label                               And here is a structure which describes the volume label for a       CMS formatted disk            struct   attribute     packed   cms label                char label id              Label identifier                             union any label        struct volume label vl       struct cms label    cl                  Note that both structures have as their first member a character      variable of length     In the case of the  volume label  structure it   is       volkey  and in the case of the  cms label  structure it is  label id     E         If the value of this variable is  VOL    in EBCDIC  then it is the fir  st      structure which maps the storage   If the value of this variable is       CMS    in EBCDIC  then it is the second structure which maps the      storage          union any label  label   D    Initialize somehow         struct volume label  maybe vl   D  label  vl      struct cms label  maybe cl   D  label  cl          if  strncmp maybe vl  volkey   VOL         D  D              maybe cl   D NULL             Use maybe vl all you want  e g             maybe vl  security   D  xFF        else if  strncmp maybe cl  label id   CMS         D  D              maybe vl   D NULL             Use maybe cl all you want  e g             printf   lu n    unsigned long  maybe cl  disk offset         else           assert   Unrecognized disk                      Thanks  Boyd   Your response comes the closest so far to what I m looking   for   Based on what I know from other programming languages  I don t think   it s going to be necessary to explicitly declare a union   It s possible  but I would generally do it for clarity   I like using the    types of variables arguments as documentation  so I would store any data wh  ere    the real type was unknown in the union   Then access it though a  struct    cms label    or  struct volume label    one I had determined the correct ty  pe   Since C unions are not tagged  a C union is the same size as it s largest    member    NB  Not really sure how   attribute      packed     changes thing  s     if at all  it s possible you need it on the union to prevent padding from    being added after the space occupied by the largest member      In short  I need to  a  declare  cms label  as a based structure    above  timmmed      b    declare a pointer variable called   cms ptr  and associate it with the    cms label  structure   struct cms label  cms ptr   Initialization optional  but recommended      c  make sure that the compiler does not attempt   to allocate any storage for the  cms label  structure   Since you are declaring a pointer to a structure  and not declaring an obje  ct    with type  struct cms label   no space will be allocated for a cms label      d  make sure that   the compiler automatically acquires storage for the  cms ptr  pointer   variable itself   Make your declaration a definition and that ll be handled    Declarations a  nd    definitions look very similar for non function types  the code given above   is    actually a definition if it is not within a struct union type       e  assign the address of the  volume label  structure   to the  cms ptr  pointer variable at an appropriate point in the code    and  struct volume label vl  struct cms label  cms ptr      Load data into vl       Determine that the data is actually a cms label    cms ptr   D  void     vl   Or  in your specific case  you should be able to do something like   struct cms label  cms ptr   D  void    disk specific  anchor  vlabel   Since you are already dealing with a  struct volume label     there s no ne  ed    for the address of operator          f  make references to the members of the cms label structure   cms ptr  label id     Or any other member        How do I do this    Man  I wish I knew C    Examples above good   Please let me know if I can provide further assistanc  e    D     Boyd Stephen Smith Jr                 D         D                     o o      ICQ         YM AIM  DaTwinkDaddy                                        BEGIN PGP SIGNATURE      Version  GnuPG v        GNU Linux   iEYEABECAAYFAkvHh QACgkQdNbfk   fC BAgCeKwmOm   NTfXcjN HW j WHP sykAnRvCenL IpMvKjq HIhIxuODBAnq   Uj       END PGP SIGNATURE      