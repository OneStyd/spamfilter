Re  nslookup from Windows resolves domain and pdc correctly but still   gets cannot contact on samba         on lennyOn Wed  Apr          at      AM  Siju George   wrote      I have installed   ii  A samba  A   A   A   A   A   A   A   A   A   A   A   A   A   A   A     A           lenny   A   A   A   A   A   A a   ii  A samba common  A   A   A   A   A   A   A   A   A   A   A   A   A            lenny    On Debian Lenny and i am sharing directories to Windows Users successfull  y      I configured it as a PDC with the following configuration     global     A   A   A   A workgroup   D HIFXNX    A   A   A   A netbios name   D HIFXNXDC    A   A   A   A server string   D HIFXNX Domain Controller  PHP Developmen  t   Server  Subversion Server  DNS Server    A   A   A   A interfaces   D                               A   A   A   A bind interfaces only   D Yes    A   A   A   A obey pam restrictions   D Yes    A   A   A   A passdb backend   D tdbsam    A   A   A   A pam password change   D Yes    A   A   A   A passwd program   D  usr bin passwd  u    A   A   A   A passwd chat   D  Enter snew s  spassword    n n    Retype snew s  spassword    n n  password supdated ssuccessfully       A   A   A   A unix password sync   D Yes    A   A   A   A syslog   D      A   A   A   A log file   D  var log samba log  m    A   A   A   A max log size   D         A   A   A   A name resolve order   D lmhosts host wins bcast    A   A   A   A add user script   D  usr sbin adduser   quiet     disabled password   gecos     u    A   A   A   A add group script   D  usr sbin addgroup   force badname  g    A   A   A   A add machine script   D  usr sbin useradd  g machines  c     u   machine account   d  var lib samba  s  bin false  u    A   A   A   A domain logons   D Yes    A   A   A   A os level   D       A   A   A   A preferred master   D Auto    A   A   A   A domain master   D Yes    A   A   A   A dns proxy   D No    A   A   A   A panic action   D  usr share samba panic action  d    homes     A   A   A   A comment   D Home Directories    A   A   A   A valid users   D  S    A   A   A   A create mask   D         A   A   A   A directory mask   D         A   A   A   A browseable   D No    netlogon     A   A   A   A comment   D Network Logon Service    A   A   A   A path   D  home samba netlogon    A   A   A   A guest ok   D Yes    A   A   A   A share modes   D No     I can get the domain   domain controller resolved using DNS from the   Windows XP machine    But when I try to join the domain from the Windows XP machine    I get the error    A Domain Controller for the domain hifxnx local could not be contacted    and the debug log file dcdiag txt contains these details    The following error occurred when DNS was queried for the service   location  SRV  resource record used to locate a domain controller for   domain hifxnx local    The error was   DNS name does not exist      error code  x       B RCODE NAME ERROR    The query was for the SRV record for  ldap  tcp dc  msdcs hifxnx local   Common causes of this error include the following      The DNS SRV record is not registered in DNS      One or more of the following zones do not include delegation to its   child zone    hifxnx local   local      the root zone   My Domain SMB knowledge is slightly rusty but here goes        Your Samba server s ip address ends with a    which  AFAIK  is reserved for network addresses  unless it has some special purpose like the the     netmask   What is the output of  ifconfig  a       In your smb conf     a The following are missing  although they may be the default settings for these variables   security   D user local master   D yes    b I have forgotten why  but AFAIK             should be listed in  interfaces   D      c What does  share modes   D No  do      If you have not yet created a computer account for the Windows box  you have to log on to the domain as root  or as a user with the right to add a machine account  the first time that you do so from a Samba client for the  add machine script   D  variable to do its magic      The   ldap  tcp      DNS SRV records are needed for an AD domain  IIRC there are         I have never set up an AD Samba PDC but your smb conf settings look like those of an NT  Samba PDC so it may just be a misleading error failure message  Your Windows box seems to be an XP VM but just in case the netbios name is misleading  see         To UNSUBSCRIBE  email to debian    with a subject of  unsubscribe   Trouble  Contact   Archive      